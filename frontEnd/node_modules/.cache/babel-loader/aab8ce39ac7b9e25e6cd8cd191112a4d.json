{"ast":null,"code":"import { isDevelopment, isTest } from \"./environment.js\";\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value) {\n  var workSet = new Set([value]);\n  workSet.forEach(function (obj) {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(function (name) {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze(obj) {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n\n  return obj;\n}","map":{"version":3,"mappings":"AAAA,SAASA,aAAT,EAAwBC,MAAxB,QAAsC,kBAAtC;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAA4B;EAC1B,OAAOA,KAAK,KAAK,IAAV,IAAkB,OAAOA,KAAP,KAAiB,QAA1C;AACD;;AAED,SAASC,UAAT,CAAoBD,KAApB,EAA8B;EAC5B,IAAME,OAAO,GAAG,IAAIC,GAAJ,CAAQ,CAACH,KAAD,CAAR,CAAhB;EACAE,OAAO,CAACE,OAAR,CAAgB,eAAG;IACjB,IAAIL,QAAQ,CAACM,GAAD,CAAZ,EAAmB;MACjB,IAAI,CAACC,MAAM,CAACC,QAAP,CAAgBF,GAAhB,CAAL,EAA2BC,MAAM,CAACE,MAAP,CAAcH,GAAd;MAC3BC,MAAM,CAACG,mBAAP,CAA2BJ,GAA3B,EAAgCD,OAAhC,CAAwC,gBAAI;QAC1C,IAAIL,QAAQ,CAACM,GAAG,CAACK,IAAD,CAAJ,CAAZ,EAAyBR,OAAO,CAACS,GAAR,CAAYN,GAAG,CAACK,IAAD,CAAf;MAC1B,CAFD;IAGD;EACF,CAPD;EAQA,OAAOV,KAAP;AACD;;AAED,OAAM,SAAUY,eAAV,CAA6BP,GAA7B,EAAmC;EACvC,IAAIQ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,KAA0ClB,aAAa,MAAMC,MAAM,EAAnE,CAAJ,EAA4E;IAC1EG,UAAU,CAACI,GAAD,CAAV;EACD;;EACD,OAAOA,GAAP;AACD","names":["isDevelopment","isTest","isObject","value","deepFreeze","workSet","Set","forEach","obj","Object","isFrozen","freeze","getOwnPropertyNames","name","add","maybeDeepFreeze","process","env","NODE_ENV"],"sourceRoot":"","sources":["../../../src/utilities/common/maybeDeepFreeze.ts"],"sourcesContent":["import { isDevelopment, isTest } from './environment';\n\nfunction isObject(value: any) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value: any) {\n  const workSet = new Set([value]);\n  workSet.forEach(obj => {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(name => {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze<T>(obj: T): T {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n  return obj;\n}\n"]},"metadata":{},"sourceType":"module"}